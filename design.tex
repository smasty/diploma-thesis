%!TEX root = main.tex
\newpage
\chapter{Návrh riešenia personalizovaného informačného bulletinu v CQA systéme}

Cieľom našej práce je navrhnúť, zrealizovať a overiť metódu zostavovania personalizovaných informačných bulletinov v CQA systémoch
so zameraním sa na podporu diverzity a~aktuálnosti obsahu odporúčaného v informačnom bulletine.

Naše riešenie je navrhnuté pre použitie vrámci platformy Stack Exchange, ktorá patrí medzi najpopulárnejšie CQA systémy
v súčasnosti a tvorí ju viac ako 160 komunít zameraných na rôzne oblasti.

\textbf{Prehľad navrhovanej metódy}\\
Na začiatok uvádzame stručný súhrn navrhnutej metódy zostavovania personalizovaných informačných bulletinov.
Celkový pohľad na metódu ilustruje obrázok~\ref{fig:overview}, Jednotlivé časti metódy sú podrobne opísané v nasledujúcich kapitolách.
\begin{my_itemize}
\item{Pre zostavenie personalizovaných informačných bulletinov využijeme odporúčaciu metódu filtrovania na základe obsahu.}
\item{
    Diverzifikáciu odporúčaného obsahu budeme zabezpečovať na úrovni tématického pre-filteru pred samotným procesom
    odporúčania -- pre každú nezávislú tému sa bude vytvárať samostatný zoznam odporúčaní.
}
\item{Výsledný zoznam odporúčaného obsahu vznikne spojením jednotlivých zoznamov z kroku diverzifikácie.}
\item{Pri odporúčaní sa okrem diverznosti a relevancie obsahu bude uvažovať aj jeho aktuálnosť.}
\end{my_itemize}

\textbf{TODO - sem pojde flow diagram znazorujuci cely proces zostavovania odporucani}\label{fig:overview}

\section{Návrh metódy personalizovaného odporúčania}

\textbf{Hypotéza}\\
\textit{Použitím personalizovaného odporúčania otázok v informačnom bulletine CQA systému zvýšime relevanciu obsahu informačného
bulletinu, čo sa prejaví zvýšenou mierou jeho používania medzi používateľmi CQA systému.}

Pri vytváraní personalizovaného informačného bulletinu sa budeme zameriavať na odporúčanie relevantných otázok jednotlivým
používateľom CQA systému prostredníctvom aplikovania metódy filtrovania na základe obsahu (kapitola~\ref{rec:content}).
Pre účely filtrovania na základe obsahu je potrebné definovať a zostaviť modely reprezentujúce jednak otázky, a tiež
používateľov CQA systému.

\subsection{Model otázok}

Model otázky sa bude skladať z troch nezávislých modelov, ktoré sa na samotnú otázku pozerajú z rôznych perspektív.

\textbf{1. Kategorický model otázok}\\
Tento model reprezentuje otázku na najvyššej úrovni ako prislúchajúcu do určitých kategórií. Kategórie otázok sú vrámci
platformy Stack Exchange reprezentované ako značky (angl.\textit{tags}). Každá otázka môže obsahovať viacero značiek.

Samotný kategorický model otázky bude reprezentovaný ako vektor v $n$-rozmernom priestore, kde každý rozmer $k$
predstavuje príslušnosť otázky k danej značke. Nakoľko značky netvoria hierarchickú štruktúru, bude vektor v jednotlivých
rozmeroch nadobúdať iba hodnoty $0$~alebo~$1$.

\textbf{2. Tématický model otázok}\\
Tématický model využíva metódu latentnej Dirichletovej alokácie (angl.~\emph{Latent Dirichlet Allocation - LDA})~\cite{blei2003latent}
na určenie latentnej témy, ktorej sa daná otázka venuje.

LDA vektor tohto modelu bude reprezentovať distribúciu otázky vrámci jednotlivých latentných tém.
Samotné LDA témy sa budú odvodzovať z nadpisu a textu otázky.
Pre optimalizáciu modelu a zanedbanie tém s veľmi nízkou distribúciou sa do úvahy budú brať len latentné témy tvoriace
75\% z celkovej distribúcie, teda tretí kvartil. Jednotlivé hodnoty tém budú následne normalizované, aby tvorili 100\%.

\begin{adjustwidth}{1cm}{1cm}
\textbf{Nastavenie LDA}\\
Pre určenie vhodného počtu LDA tém ($n$) využijeme metódu hierarchických Dirichletových procesov~\cite{Teh2006}.
Pre trénovanie LDA modelu bude využitý online variačný Bayesov algoritmus. Parametre modelu budú nastavené nasledovne:\\
$\alpha = 1/n; \kappa = 0.7; \tau_0 = 10; \eta = 1/n$.

Nakoľko jednotlivé komunity vrámci platformy Stack Exchange sú pomerne úzko zamerané, predpokladáme, že bude dostačujúce
natrénovať LDA model na vzorke archívnych dát a nebude potrebné postupné dotrénovanie modelu. Napriek tomu sme zvolili
online variačný Bayesov algoritmus, keďže je pri veľkom množstve dát efektívnejší ako dávková varianta tohto algoritmu.
\end{adjustwidth}

\textbf{3. Lexikálny model otázok}
Lexikálny model otázky využíva TF-IDF vektor reprezentujúci zastúpenie jednotlivých výrazov v texte otázky. Rovnako ako
LDA vektor bude zostavený z nadpisu a textu samotnej otázky. Pred výpočtom bude text lematizovaný a budú z neho odstránené
stop slová.


\subsection{Model používateľov}

Pre každého používateľa budeme uvažovať dva nezávislé modely -- jeden bude modelovať záujem používateľa o určité témy a otázky,
druhý bude modelovať jeho expertízu v určitej oblasti. Jeden bude použitý
pri odporúčaní otázok, ktoré by používateľa mohli zaujímať, druhý pri odporúčaní otázok, ktoré by mohol vedieť zodpovedať.
Oba modely budú z pohľadu svojej štruktúry presne rovnaké.

Model používateľa bude zostavený na základe jeho aktivity a bude sa analogicky k modelu otázok skladať z troch vektorov:

\begin{my_enumerate}
\item{
  Prvý vektor bude reprezentovať aktivitu používateľa naprieč značkami -- každý rozmer bude predstavovať jednu značku,
  v ktorej má používateľ aktivitu. Hodnoty v jednotlivých rozmeroch budú predstavovať podiel aktivity v danej značke voči
  celkovému množstvu aktivity používateľa.
}
\item{
  Druhý vektor bude analogicky k prvému reprezentovať aktivitu používateľa naprieč LDA témami, v ktorých má používateľ aktivitu.
}
\item{
  Tretí vektor bude reprezentovať zastúpenie jednotlivých výrazov v textoch otázok, v ktorých má používateľ aktivitu.
}
\end{my_enumerate}

\textbf{Záujmový model}\\
Model predstavujúci záujem používateľa bude zostavený zo všetkých otázok, ktoré používateľ položil, alebo ktoré označil
za obľúbené. Každá takáto otázka bude do modelu prispievať rovnakou váhou.

\textbf{Expertízny model}\\
Model modelujúci expertízu používateľa sa bude skladať z otázok, na ktoré používateľ odpovedal, pričom ich dopad na model
expertízy bude závislý od skóre jeho odpovede. Kladné skóre bude prisipevať do modelu pozitívne -- bude to teda signalizovať
fakt, že používateľ danej téme rozumie. Odpoveď so záporným skóre bude naopak signalizovať, že používateľ danej téme nerozumie,
čo bude reflektované aj v jeho expertíznom modeli. Odpovede označené za akceptované budú do modelu prispievať s koeficientom $k~=~1.5$.

\textbf{Komentáre}\\
Okrem pokladania otázok, odpovedania alebo označenia za obľúbené budú uvažované aj používateľove komentáre. Keďže však
zo samotného faktu že používateľ niečo okomentoval nemožno jednoznačne určiť, či táto aktivita predstavuje jeho záujem
alebo expertízu, budú otázky, ktoré používateľ okomentoval prispievať do oboch modelov -- záujmového aj expertízneho, avšak
s~koeficientom $k~=~1/3$.

\subsection{Výber odporúčaného obsahu}

Pre účely zostavovania zoznamu odporúčaných otázok použijeme prístup analogický štandardným nástrojom pre vyhľadávanie
informácií (angl.~\emph{Information Retrieval Engines}). V našom prípade budú dokumentmi samotné otázky a dopytom bude
model používateľa. Pre ohodnocovanie podobnosti modelov bude použitý skalárny súčin vektorov reprezentujúcich
modely otázky a používateľa.


\subsection{Riešenie problému studeného štartu}

Pre eliminovanie problému studeného štartu (kapitola~\ref{cold-start}) z pohľadu prvotného odporúčania otázok využijeme
offline natrénovanie našich metód na archívnych dátach platformy Stack~Exchange.

V prípade nových používateľov, ktorí v systéme nemajú žiadnu, alebo iba nedostatočnú aktivitu, budeme zo začiatku vytvárať
iba generický informačný bulletin podobný tomu, ktorý je používateľom k dispozícii aj v súčasnosti (kapitola~\ref{so-newsletter}).


\subsection{Aktuálnosť / Freshness}

\textbf{TODO} - exponencialny decay factor, zavisly od priemernej frekvencie userovej aktivity. Plus berieme len content
za max 2x frekvencie odosielania newsletteru.

\section{Návrh metód diverzifikácie odporúčaní}

\textbf{Hypotéza}\\
\textit{Výberom odporúčaných otázok zo širšieho okruhu záujmu používateľa a zohľadnením ich aktuálnosti predídeme výskytu problému
filtračnej bubliny, čím dosiahneme vyššiu mieru záujmu používateľa a jeho aktivity.}

Diverzifikácia obsahu personalizovaného informačného bulletinu sa bude vykonávať ešte pred samotným zostavovaním
zoznamu odporúčaní formou pre-filteru. Diverzifikácia bude spočívať vo výbere \textit{značiek} a \textit{tém}, pričom
následne v kroku zostavovania zoznamov odporúčaní sa bude pre každý zoznam uvažovať len obsah prislúchajúci do danej
značky alebo témy. Okrem výberu značiek a tém bude diverzifikácia aplikovaná aj pri následnom výbere položiek z jednotlivých
zoznamov do výsledného zoznamu odporúčaní.

Tento prístup k diverzifikácii sme zvolili okrem jeho prirodzenosti aj z dôvodu jeho veľmi dobrej škálovateľnosti,
nakoľko alternatívny prístup postavený na tvorbe odporúčaní nad všetkým obsahom daného CQA systému a až následnej
diverzifikácií by v praxi nebol realizovateľný.

Cieľom našej práce je vyhodnotiť dopad diverzifikácie odporúčaní na personalizované informačné bulletiny CQA systémov.
Za týmto účelom sme navrhli dve metódy diverzifikácie odporúčaní: metódu proporčnej diverzifikácie a metódu tématického vzorkovania.

\subsection{Metóda proporčnej diverzifikácie}

\subsection{Metóda tématického vzorkovania}
